{"ast":null,"code":"var _jsxFileName = \"D:\\\\GitHub\\\\goit-react-hw-04-phonebook\\\\src\\\\components\\\\Phonebook\\\\Phonebook.jsx\",\n    _s = $RefreshSig$();\n\nimport { useState, useCallback, useEffect, useRef } from 'react';\nimport { nanoid } from 'nanoid';\nimport ContactForm from './ContactForm';\nimport ContactList from './ContactList';\nimport Filter from './Filter';\nimport stl from './phonebook.module.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Phonebook() {\n  _s();\n\n  const [contacts, setContacts] = useState([{\n    id: 'id-1',\n    name: 'Rosie Simpson',\n    number: '459-12-56'\n  }, {\n    id: 'id-2',\n    name: 'Hermione Kline',\n    number: '443-89-12'\n  }, {\n    id: 'id-3',\n    name: 'Eden Clements',\n    number: '645-17-79'\n  }, {\n    id: 'id-4',\n    name: 'Annie Copeland',\n    number: '227-91-26'\n  }]);\n  const [filter, setFilter] = useState(''); // get files from local storage\n\n  const firstRender = useRef(true);\n  useEffect(() => {\n    if (firstRender.current) {\n      firstRender.current = false;\n      const data = localStorage.getItem('contacts');\n      const contacts = JSON.parse(data); //todo JSON.parse - convert string to object\n\n      if (contacts !== null && contacts !== void 0 && contacts.length) {\n        setContacts(contacts);\n      }\n    }\n  }, []);\n  useEffect(() => {\n    if (!firstRender.current) {\n      localStorage.setItem('contacts', JSON.stringify(contacts)); //todo JSON.parse - convert string to object\n    }\n  }, [contacts]);\n  const addContacts = useCallback(_ref => {\n    let {\n      name,\n      number\n    } = _ref;\n    const newContactName = name.toLowerCase();\n    const isDublicate = contacts.find(item => item.name.toLowerCase() === newContactName);\n\n    if (isDublicate) {\n      alert(`${name} is alredy in your phonebook`);\n      return;\n    }\n\n    setContacts(prevContacts => {\n      const newContact = {\n        id: nanoid(),\n        name,\n        number\n      };\n      return [...prevContacts, newContact];\n    });\n  }, [contacts, setContacts]);\n  const deleteContact = useCallback(id => {\n    const newContacts = contacts.filter(item => item.id !== id);\n    setContacts(newContacts);\n  }, [contacts, setContacts]);\n  const filterChange = useCallback(_ref2 => {\n    let {\n      target\n    } = _ref2;\n    const {\n      value\n    } = target;\n    setFilter(value);\n  }, [setFilter]);\n  const getContactsFiltered = useCallback(() => {\n    if (!filter) {\n      return contacts;\n    }\n\n    const filterRequest = filter.toLowerCase();\n    const filteredContacts = contacts.filter(_ref3 => {\n      let {\n        name\n      } = _ref3;\n      return name.toLowerCase().includes(filterRequest);\n    });\n    return filteredContacts;\n  }, [filter, contacts]);\n  const filteredResult = getContactsFiltered();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(ContactForm, {\n      onSubmit: addContacts\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Filter, {\n      filter: filter,\n      onFilter: filterChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this), !filteredResult.length && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: stl.alert,\n      children: \"\\u0416\\u0438\\u0442\\u0442\\u044F \\u043C\\u0430\\u0454 \\u0432 \\u0442\\u043E\\u0447\\u043D\\u043E\\u0441\\u0442\\u0456 \\u0442\\u0443 \\u0446\\u0456\\u043D\\u043D\\u0456\\u0441\\u0442\\u044C, \\u044F\\u043A\\u043E\\u044E \\u043C\\u0438 \\u0445\\u043E\\u0447\\u0435\\u043C\\u043E \\u0457\\u0457 \\u043D\\u0430\\u0434\\u0456\\u043B\\u0438\\u0442\\u0438 - \\u0445\\u043E\\u0447\\u0435\\u0448 \\u0437\\u043D\\u0430\\u0439\\u0442\\u0438 \\u0437\\u0430\\u043F\\u0438\\u0441, \\u0441\\u043F\\u043E\\u0447\\u0430\\u0442\\u043A\\u0443 \\u0437\\u0431\\u0435\\u0440\\u0435\\u0436\\u0438 \\u0439\\u043E\\u0433\\u043E\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(ContactList, {\n      contacts: filteredResult,\n      onDelete: deleteContact\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 95,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Phonebook, \"Ed9jvsuv1dE7elwTS/Jvu4DIT/E=\");\n\n_c = Phonebook;\nexport default Phonebook;\n\nvar _c;\n\n$RefreshReg$(_c, \"Phonebook\");","map":{"version":3,"names":["useState","useCallback","useEffect","useRef","nanoid","ContactForm","ContactList","Filter","stl","Phonebook","contacts","setContacts","id","name","number","filter","setFilter","firstRender","current","data","localStorage","getItem","JSON","parse","length","setItem","stringify","addContacts","newContactName","toLowerCase","isDublicate","find","item","alert","prevContacts","newContact","deleteContact","newContacts","filterChange","target","value","getContactsFiltered","filterRequest","filteredContacts","includes","filteredResult"],"sources":["D:/GitHub/goit-react-hw-04-phonebook/src/components/Phonebook/Phonebook.jsx"],"sourcesContent":["import { useState, useCallback, useEffect, useRef } from 'react';\r\n\r\nimport { nanoid } from 'nanoid';\r\n\r\nimport ContactForm from './ContactForm';\r\nimport ContactList from './ContactList';\r\nimport Filter from './Filter';\r\n\r\nimport stl from './phonebook.module.css';\r\n\r\nfunction Phonebook() {\r\n  const [contacts, setContacts] = useState([\r\n    { id: 'id-1', name: 'Rosie Simpson', number: '459-12-56' },\r\n    { id: 'id-2', name: 'Hermione Kline', number: '443-89-12' },\r\n    { id: 'id-3', name: 'Eden Clements', number: '645-17-79' },\r\n    { id: 'id-4', name: 'Annie Copeland', number: '227-91-26' },\r\n  ]);\r\n\r\n  const [filter, setFilter] = useState('');\r\n  // get files from local storage\r\n\r\n  const firstRender = useRef(true);\r\n\r\n  useEffect(() => {\r\n    if (firstRender.current) {\r\n      firstRender.current = false;\r\n      const data = localStorage.getItem('contacts');\r\n      const contacts = JSON.parse(data); //todo JSON.parse - convert string to object\r\n      if (contacts?.length) {\r\n        setContacts(contacts);\r\n      }\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (!firstRender.current) {\r\n      localStorage.setItem('contacts', JSON.stringify(contacts)); //todo JSON.parse - convert string to object\r\n    }\r\n  }, [contacts]);\r\n\r\n  const addContacts = useCallback(\r\n    ({ name, number }) => {\r\n      const newContactName = name.toLowerCase();\r\n      const isDublicate = contacts.find(\r\n        item => item.name.toLowerCase() === newContactName\r\n      );\r\n      if (isDublicate) {\r\n        alert(`${name} is alredy in your phonebook`);\r\n        return;\r\n      }\r\n\r\n      setContacts(prevContacts => {\r\n        const newContact = {\r\n          id: nanoid(),\r\n          name,\r\n          number,\r\n        };\r\n        return [...prevContacts, newContact];\r\n      });\r\n    },\r\n    [contacts, setContacts]\r\n  );\r\n\r\n  const deleteContact = useCallback(\r\n    id => {\r\n      const newContacts = contacts.filter(item => item.id !== id);\r\n      setContacts(newContacts);\r\n    },\r\n    [contacts, setContacts]\r\n  );\r\n\r\n  const filterChange = useCallback(\r\n    ({ target }) => {\r\n      const { value } = target;\r\n      setFilter(value);\r\n    },\r\n    [setFilter]\r\n  );\r\n\r\n  const getContactsFiltered = useCallback(() => {\r\n    if (!filter) {\r\n      return contacts;\r\n    }\r\n\r\n    const filterRequest = filter.toLowerCase();\r\n    const filteredContacts = contacts.filter(({ name }) => {\r\n      return name.toLowerCase().includes(filterRequest);\r\n    });\r\n    return filteredContacts;\r\n  }, [filter, contacts]);\r\n\r\n  const filteredResult = getContactsFiltered();\r\n\r\n  return (\r\n    <div>\r\n      <ContactForm onSubmit={addContacts} />\r\n\r\n      <Filter filter={filter} onFilter={filterChange} />\r\n      {!filteredResult.length && (\r\n        <p className={stl.alert}>\r\n          Життя має в точності ту цінність, якою ми хочемо її наділити - хочеш\r\n          знайти запис, спочатку збережи його\r\n        </p>\r\n      )}\r\n      <ContactList contacts={filteredResult} onDelete={deleteContact} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Phonebook;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}